<!--
=========================================================
* Material Kit 2 - v3.0.4
=========================================================

* Product Page:  https://www.creative-tim.com/product/material-kit 
* Copyright 2023 Creative Tim (https://www.creative-tim.com)
* Coded by www.creative-tim.com

 =========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. -->
<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="../assets/img/apple-icon.png"
    />
    <link rel="icon" type="image/png" href="../assets/img/favicon.png" />
    <title>Cuci Klear</title>
    <!--     Fonts and icons     -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700"
    />
    <!-- Nucleo Icons -->
    <link href="../assets/css/nucleo-icons.css" rel="stylesheet" />
    <link href="../assets/css/nucleo-svg.css" rel="stylesheet" />
    <!-- Font Awesome Icons -->
    <script
      src="https://kit.fontawesome.com/42d5adcbca.js"
      crossorigin="anonymous"
    ></script>
    <!-- Material Icons -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Round"
      rel="stylesheet"
    />
    <!-- CSS Files -->
    <link
      id="pagestyle"
      href="../assets/css/material-kit.css?v=3.0.4"
      rel="stylesheet"
    />
    <!-- Nepcha Analytics (nepcha.com) -->
    <!-- Nepcha is a easy-to-use web analytics. No cookies and fully compliant with GDPR, CCPA and PECR. -->
    <script
      defer
      data-site="YOUR_DOMAIN_HERE"
      src="https://api.nepcha.com/js/nepcha-analytics.js"
    ></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/lightslider/1.1.6/css/lightslider.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.5/dist/fancybox.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightslider/1.1.6/js/lightslider.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0.5/dist/fancybox.umd.js"></script>

    <style>
      /* CSS for sticky bottom element */
      .sticky-bottom {
        position: fixed;
        bottom: 0;
        right: 0;
        padding: 10px;
        text-align: center;
        opacity: 0;
        /* Start hidden */
        transition: opacity 1s ease;
        /* Smooth fade in/out transition */
      }

      .visible {
        opacity: 1;
        /* Fully visible */
      }
    </style>
    <style>
      body {
        background: #ecf0f3 !important;
        font-family: Arial;
      }
      .vrmedia-gallery {
        max-width: 567px;
        margin: 5rem auto;
        background: white;
        padding: 20px;
        box-shadow: rgb(100 100 111 / 20%) 0px 7px 29px 0px;
        border-radius: 8px;
        backdrop-filter: opacity(0.5);
      }
      .vrmedia-gallery img {
        object-fit: cover;
        width: 100%;
        height: 100%;
      }
      .vrmedia-gallery .lSGallery {
        display: inline-flex;
      }
      .vrmedia-gallery .lSGallery li {
        border-radius: 12px !important;
      }
      .vrmedia-gallery .lSGallery li.active {
        border: 1px solid #242423;
      }
    </style>
  </head>

  <body class="contact-us">
  <!-- Navbar -->
  <div class="container position-sticky z-index-sticky top-0">
    <div class="row">
      <div class="col-12">
        <div th:replace="~{fragments/navbar.html :: navbar}"></div>
      </div>
    </div>
  </div>
    <!-- header with description -->
    <section
    th:replace="~{fragments/formheader.html :: formheader('Carpet/Floor Cleaning','
    The state of your flooring sets the tone for any space. Regular cleaning ensures health, longevity, and peace of mind. Floors collect dust, dirt, and allergens, impacting air quality. Professional cleaning keeps them sanitized, reducing health risks. A spotless floor uplifts ambiance, maintains integrity, and extends lifespan. Clean floors enhance home comfort and reflect professionalism in businesses, offering peace of mind. Investing in regular cleaning improves health, comfort, and longevity. Transform your space with professional cleaning today!',
  'https://scontent.fkul6-1.fna.fbcdn.net/v/t39.30808-6/277526267_1168458727061303_3615526268642819951_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeGdmhxyaplnfFQSRv_jTBPHbsq945pY3Btuyr3jmljcG88ggw1TmwuIoB--HIhNvk4X0fDI0HYGgdO09_XC-vWV&_nc_ohc=p4wucKxs-8MQ7kNvgHRa9ZC&_nc_zt=23&_nc_ht=scontent.fkul6-1.fna&_nc_gid=As0uDzqkZMugR18VoiCA6IM&oh=00_AYCDo_ullsdLYtG5Fm2ZaQ0-1JihJqPNqnff26iFYUG1AQ&oe=6733F025')}"></section>
    <section>
      <div class="page-header min-vh-100">
        <div class="container">
          <div class="row">
              <div
                class="col-6 d-lg-flex d-none h-100 my-auto pe-0 position-absolute top-0 start-0 flex-column"
              >
                <div
                  class="position-relative h-100 m-3 px-7 border-radius-lg d-flex flex-column justify-content-center"
                  id="pkgimg"
                  style="background-size: cover"
                  loading="lazy"
                  th:insert="~{fragments/vrmediagallery.html :: gallery(${imgUrls})}"
                ></div>
              </div>
            
            <div
              class="col-xl-5 col-lg-6 col-md-7 d-flex flex-column ms-auto me-auto ms-lg-auto me-lg-5"
            >
              <div
                class="card d-flex blur justify-content-center shadow-lg my-sm-0 my-sm-6 mt-8 mb-5"
              >
                <div
                  class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent"
                >
                  <div
                    class="bg-gradient-primary shadow-primary border-radius-lg p-3"
                  >
                    <h3 class="text-white text-primary mb-0">
                      Carpet/Floor
                    </h3>
                  </div>
                </div>
                <div class="card-body">
                  <h3 id="price">RM180</h3>
                  <p class="pb-3" id="cardescription">
                    Select either commercial or domestic cleaning, then enter size. If you are
                    not confident of size, Do contact us.
                  </p>
                  <form
                    id="carpet-form"
                    method="post"
                    action="/carpet"
                  >
                    <div class="card-body p-0 my-3">
                      <div class="row">
                        <div class="col-md-6">
                          <div
                            class="input-group input-group-static input-group-outline mb-4"
                          >
                            <input
                              id="packageprice"
                              name="packageprice"
                              type="hidden"
                              value="180"
                            />
                            <input
                              id="servicename"
                              name="servicename"
                              type="hidden"
                              value="Carpet/Floor Cleaning"
                            />
                            <input
                              id="pkgname"
                              name="pkgname"
                              type="hidden"
                              value=""
                            />
                            <input
                              id="carname"
                              name="carname"
                              type="hidden"
                              value="small"
                            />
                            <label>Select type:</label>
                            <div class="dropdown">
                              <select
                                class="btn btn-outline-secondary dropdown-toggle"
                                id="type"
                                name="type"
                                aria-expanded="false"
                                onchange="getPrice()"
                              >
                                <option value="0">Commercial</option>
                                <option value="1">Domestic</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="input-group input-group-outline mb-4">
                            <div class="row">
                              <div class="col-12">
                                <label>Size (sqft):</label>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-12 ">
                                <div class="input-group input-group-outline ">
                                  <input
                                    name="size"
                                    id="size"
                                    class="form-control"
                                    type="number"
                                    value="1"
                                    min="1"
                                    onchange="getPrice()"          
                                  />
                                </div>
                              </div>
                            </div>

                            <script th:inline="javascript">
                              /*<![CDATA[*/
                              var rate = /*[[${carpetRates}]]*/ "default";
                              console.log("Thymeleaf Variable in JS:", rate);
                              
                              /*]]>*/
                              
                              getPrice()
                              function getPrice(){

                               var index = document.getElementById("type").value;
                               var nSize = document.getElementById("size").value;
                               console.log("type index:",index);
                               var selectedCarpetRate = rate[index].rate;
                               document.getElementById("price").innerHTML = "RM" + (selectedCarpetRate*nSize);
                               //set hidden input values
                               document.getElementById("packageprice").value = selectedCarpetRate*nSize;
                               document.getElementById("pkgname").value = nSize + " sqft";
                          
                              }

                            </script>
                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-md-12 text-center">
                          <button
                            type="submit"
                            class="btn bg-gradient-primary mt-3 mb-0"
                            onclick="showStickyElement()"
                          >
                            Add to cart
                          </button>
                          <script>
                            function showStickyElement() {
                              const element =
                                document.getElementById("stickyElement");
                              element.classList.add("visible"); // Show the element

                              // Set a timer to fade out the element after 3 seconds
                              setTimeout(() => {
                                element.classList.remove("visible"); // Hide the element with fade
                              }, 3000);
                            }
                            window.onload = function () {
                              const urlParams = new URLSearchParams(
                                window.location.search
                              );
                              const submitted = urlParams.has("submitted");

                              if (submitted) {
                                showStickyElement(); // Trigger the JavaScript function
                              }
                            };
                          </script>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- -------- END HEADER 8 w/ card over right bg image ------- -->
    <div
      id="stickyElement"
      class="sticky-bottom alert alert-success text-white font-weight-bold"
      role="alert"
    >
      Item added to cart!
    </div>
    <div th:replace="~{fragments/footer.html :: footer}"></div>
    <!--   Core JS Files   -->
    <script
      src="../assets/js/core/popper.min.js"
      type="text/javascript"
    ></script>
    <script
      src="../assets/js/core/bootstrap.min.js"
      type="text/javascript"
    ></script>
    <script src="../assets/js/plugins/perfect-scrollbar.min.js"></script>
    <!-- Control Center for Material UI Kit: parallax effects, scripts for the example pages etc -->
    <!--  Google Maps Plugin    -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDTTfWur0PDbZWPr7Pmq8K3jiDp0_xUziI"></script>
    <script
      src="../assets/js/material-kit.min.js?v=3.0.4"
      type="text/javascript"
    ></script>
  </body>
</html>
